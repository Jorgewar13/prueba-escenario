<!DOCTYPE html>
<html>
<head>
  <title>Mi Escena 3D</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/fernandojsg/aframe-oculus-touch-controls-component/dist/aframe-oculus-touch-controls-component.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aframe-physics-system@4.0.1/dist/aframe-physics-system.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@3.4.0/dist/aframe-extras.gamepad-controls.min.js"></script>
</head>
<body>
  <a-scene physics="debug: true"> <!-- Activa la física y el modo de depuración -->

    <!-- Crea un cubo como suelo -->
    <a-box position="0 -1 0" rotation="-90 0 0" width="20" height="0.1" depth="20" color="#7BC8A4" static-body></a-box> <!-- Agrega el atributo static-body para que el suelo no se mueva -->

    <!-- Añade un modelo 3D -->
    <a-entity position="0 0 -5" rotation="0 180 0" scale="7 7 7" gltf-model="assets/untitled.glb" dynamic-body></a-entity> <!-- Agrega el atributo dynamic-body para que el modelo 3D reaccione a las colisiones -->

    <!-- Añade una cámara -->
    <a-entity id="cameraRig" position="0 4 20" look-controls wasd-controls constraint="target: #constraintTarget"></a-entity>
    <a-entity id="constraintTarget" position="0 4 20"></a-entity>

    <!-- Componente de colisión para la caja -->
    <a-box position="0 2 -5" width="4" height="4" depth="4" color="#FF0000" dynamic-body></a-box> <!-- Agrega el atributo dynamic-body para que la caja reaccione a las colisiones -->

    <!-- Añade los controladores de Oculus Quest 2 -->
    <a-entity oculus-touch-controls="hand: left"></a-entity>
    <a-entity oculus-touch-controls="hand: right"></a-entity>

    <!-- Verifica si el dispositivo es móvil y activa los controles del gamepad -->
    <a-entity id="gamepad" gamepad-controls="controller: 0" raycaster="objects: .clickable"></a-entity>

  </a-scene>

  <script>
    // Verifica si el dispositivo es móvil y si es así, activa los controles del gamepad
    if (AFRAME.utils.device.isMobile()) {
      document.getElementById('gamepad').setAttribute('visible', true);
    }
  </script>
</body>
</html>
